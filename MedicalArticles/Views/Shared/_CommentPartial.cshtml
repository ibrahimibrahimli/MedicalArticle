@model Comment
<div style="margin-left: @(Model.ParentCommentId == null ? 0 : 20)px; border-left: 1px solid #ccc; padding-left: 10px;">
    <p><strong>@Model.UserName @Model.UserSurname:</strong> @Model.Content</p>
    <p style="font-size: small; color: gray;">@Model.CreatedDate.ToString("dd-MM-yyyy HH:mm")</p>

    <!-- Yanıt Yazma Forması -->
    <div>
        <p>@Model.Content</p>
        <button onclick="toggleReplyForm(@Model.Id)"><i class="fa fa-reply"></i></button>

        <!-- Gizli form -->
        <div id="reply-form-@Model.Id" style="display: none; margin-top: 10px;">
            <form method="post" asp-controller="Blog" asp-action="AddComment">
                <input type="text" asp-for="UserName"  placeholder="Adınız"  />
                <input type="text" asp-for="UserSurname" placeholder="Soyadınız" />
                <textarea style="width: 100%;" name="content" placeholder="Yanıt yazın..." required></textarea>
                <input type="hidden" name="parentCommentId" value="@Model.Id" />
                <input type="hidden" name="blogId" value="@Model.BlogId" />
                <button type="submit"><i class="fa-regular fa-arrow-right"></i></button>
            </form>
        </div>
    </div>

    <!-- Yanıtları Göstər -->
    @if (Model.Replies != null && Model.Replies.Any())
    {
        @foreach (var reply in Model.Replies)
        {
            @Html.Partial("_CommentPartial", reply)
        }
    }
</div>
<script>
    function toggleReplyForm(commentId) {
        // Form elementini tapırıq
        var form = document.getElementById('reply-form-' + commentId);

        // Formun görünməsini dəyişdiririk
        if (form.style.display === 'none') {
            form.style.display = 'block';
        } else {
            form.style.display = 'none';
        }
    }
</script>